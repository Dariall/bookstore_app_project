# :book: API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## 1. :mag_right: –ü–æ–∏—Å–∫ –∫–Ω–∏–≥

**URL:** `GET /api/books/search?term=...`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞–≤—Ç–æ—Ä—É

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø    | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ    |
|----------|--------|--------------|--------------------------------|
| term  | string | –î–∞ | –°—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ/–∞–≤—Ç–æ—Ä)|

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
`GET /api/books/search?term=–∫—Ä–∏—Å—Ç–∏`

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
[
  {
    "id": "b1",
    "title": "–ù–µ–º–æ–π —Å–≤–∏–¥–µ—Ç–µ–ª—å",
    "author_name": "–ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏",
    "price": 450.00,
    "image_url": "https://example.com/1.jpg"
  }
]
```

## 2.üìö –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –∫–Ω–∏–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

**URL:** `GET /api/catalog`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –ø–æ–º–µ—Ç–∫–æ–π –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
|–ü–∞—Ä–∞–º–µ—Ç—Ä	|–¢–∏–ø	|–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π|	–û–ø–∏—Å–∞–Ω–∏–µ|
|---------|------|-------|-------|
|author_id|	UUID| –ù–µ—Ç|	–§–∏–ª—å—Ç—Ä –ø–æ –∞–≤—Ç–æ—Ä—É|
|genre_id	| UUID|	–ù–µ—Ç	|–§–∏–ª—å—Ç—Ä –ø–æ –∂–∞–Ω—Ä—É|
|price_min|	decimal|	–ù–µ—Ç|	–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞|
|price_max|	decimal|	–ù–µ—Ç	|–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞|
|only_favorites|	bool |	–ù–µ—Ç	|–¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏|
|user_id	|UUID |	–ù–µ—Ç	|–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ)|
|sort_by|	string|	–ù–µ—Ç	|–ü–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: title –∏–ª–∏ price|
|sort_dir|	string|	–ù–µ—Ç|	–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: asc –∏–ª–∏ desc|

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
`GET /api/catalog?author_id=...&only_favorites=1&user_id=...&sort_by=price`

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
[
  {
    "id": "b5",
    "title": "1984",
    "author_name": "–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª",
    "price": 700.00,
    "image_url": "https://example.com/5.jpg"
  },
  ...
]
```

## 3. ‚≠ê –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

**URL:** `POST /api/favorites`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ JSON):
```json
{
  "user_id": "UUID",
  "book_id": "UUID"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "success": true,
  "message": "–ö–Ω–∏–≥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
}
```

##  4. üì§ –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏

**URL:** `GET /api/favorites?user_id=...`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
|–ü–∞—Ä–∞–º–µ—Ç—Ä	|–¢–∏–ø	|–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π|	–û–ø–∏—Å–∞–Ω–∏–µ|
|---------|------|-------|-------|
|user_id|	UUID| –î–∞|	–ù–∞–π—Ç–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –ø–æ id|

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: 
`GET /api/favorites?user_id=7fa8070c...`

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
[
  {
    "id": "aaaaaaaa",
    "title": "–ù–∏–∫–æ–≥–¥–µ",
    "author_name": "–ù–∏–ª –ì–µ–π–º–∞–Ω",
    "price": 1540.00,
    "image_url": "https://example.com/7.jpg"
  }
]
```

## 5. üõí –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ –∫–æ—Ä–∑–∏–Ω—É

**URL:** `POST /api/cart/add`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ JSON):
```json
{
  "user_id": "UUID",
  "book_id": "UUID"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "success": true,
  "message": "–ö–Ω–∏–≥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É"
}
```

## 6. ‚ùå –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

**URL:** `DELETE /api/cart/remove` 
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

### –í—Ö–æ–¥—è—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ JSON):
```json
{
  "user_id": "UUID",
  "book_id": "UUID"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "success": true,
  "message": "–ö–Ω–∏–≥–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã"
}
```

## 7. ‚¨ÜÔ∏è –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã

**URL:** `GET /api/cart?user_id=...`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "items": [
    {
      "cart_item_id": "UUID",
      "book_id": "UUID",
      "title": "–ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞",
      "author": "–§—Ä–∞–Ω–∫ –¢–∏–ª—å–µ",
      "quantity": 2,
      "price": 700.00,
      "total_price": 1400.00
    }
  ],
  "cart_total": 1400.00
}
```
